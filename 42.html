<script>
(function(){
  var c=document.getElementById("stars");
  for(var i=0;i<80;i++){
    var s=document.createElement("span");
    var size=Math.random()*3+1;
    s.style.cssText="width:"+size+"px;height:"+size+"px;top:"+Math.random()*100+"%;left:"+Math.random()*100+"%;--d:"+(2+Math.random()*4)+"s;animation-delay:-"+Math.random()*4+"s";
    c.appendChild(s);
  }
})();
</script>

<script>
  // 1. Get the RID from the URL
  const urlParams = new URLSearchParams(window.location.search);
  const rid = urlParams.get('rid') || '1'; 
  const finalUrl = "https://fastlistpro.com/?rid=" + rid;

  // 2. This replaces the old function to make sure it ignores the #REFURL# error
  function goToRegister(){
    window.location.href = finalUrl;
    return false;
  }

  // 3. Immediately fix all links on the page
  document.addEventListener("DOMContentLoaded", function() {
    document.querySelectorAll('a').forEach(link => {
      // This catches links whether they are exactly #REFURL# or have extra characters
      if (link.getAttribute('href').includes('#REFURL#')) {
        link.href = finalUrl;
      }
    });
  });

  // 4. Backup: Force update if the page is already loaded
  document.querySelectorAll('a').forEach(link => {
    if (link.getAttribute('href').includes('#REFURL#')) {
      link.href = finalUrl;
    }
  });
</script>
